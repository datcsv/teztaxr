
<!-- README.md is generated from README.Rmd. Please edit that file -->

# teztaxr

<!-- badges: start -->

[![Lifecycle:
experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
<!-- badges: end -->

An R package to scrape transaction data from the Tezos blockchain and
calculate statements and summaries useful for tax calculations.

**Disclaimer: This software has been written by the authors for personal
use, and it is provided “as is,” without warranty of any kind. Nothing
in the documentation and no statement or summary generated by the
software should be considered as tax advice. Please seek the advice of a
qualified tax professional.**

## Installation

You can install the development version of teztaxr from
[GitHub](https://github.com/datcsv/teztaxr) with:

``` r
devtools::install_github("datcsv/teztaxr")
```

## Example

Example usage:

``` r
library(tidyverse)
library(teztaxr)

# look up all transactions by a given address during a specified time interval
address <- "tz1cnfEeha6cibgKVs6DTGKyrP9V4bz5F2N6"
span <- c("2022-01-01T00:00:00Z", "2022-03-31T23:59:59Z")
tzkt_operations(address, span = span) %>%
  select(type, timestamp, gasUsed, storageFee)
#>           type            timestamp gasUsed storageFee
#> 1  transaction 2022-01-26T02:11:10Z    1420          0
#> 2  transaction 2022-01-26T02:09:00Z    3606      16750
#> 3  transaction 2022-01-26T02:07:00Z    4440          0
#> 4  transaction 2022-01-23T00:56:20Z    3574      16750
#> 5  transaction 2022-01-23T00:56:20Z    1420          0
#> 6  transaction 2022-01-23T00:56:20Z    1420          0
#> 7  transaction 2022-01-23T00:56:20Z    1420          0
#> 8  transaction 2022-01-23T00:56:20Z   12224          0
#> 9  transaction 2022-01-22T23:34:00Z    2053      72500
#> 10 transaction 2022-01-22T23:34:00Z    1420          0
#> 11 transaction 2022-01-22T23:34:00Z    1420          0
#> 12 transaction 2022-01-22T23:34:00Z   17732      22500
#> 13      reveal 2022-01-22T23:34:00Z    1000         NA
#> 14 transaction 2022-01-22T23:06:00Z    1420          0
#> 15 transaction 2022-01-22T23:02:30Z    1420          0

# look up transactions by hash
hash <- "onujxsRLwcYZuKVTKG1JLwFEe9EWBSPdiB6pRCg5WcH6NpXdRxA"
tzkt_operations_hash(hash) %>%
  select(type, timestamp, gasUsed, storageFee)
#>          type            timestamp gasUsed storageFee
#> 1      reveal 2022-01-22T23:34:00Z    1000         NA
#> 2 transaction 2022-01-22T23:34:00Z   17732      22500
#> 3 transaction 2022-01-22T23:34:00Z    1420          0
#> 4 transaction 2022-01-22T23:34:00Z    1420          0
#> 5 transaction 2022-01-22T23:34:00Z    2053      72500
```
